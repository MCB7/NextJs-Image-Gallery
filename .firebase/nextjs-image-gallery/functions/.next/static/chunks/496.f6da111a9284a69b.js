"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[496],{9496:function(e,t,s){s.r(t);var a=s(5893),n=s(7294),c=s(8178),l=s.n(c),o=s(259),r=s(19),i=s(2635),u=s(5675),d=s.n(u);let m=e=>{let{menuToggle:t}=e,[s,c]=(0,n.useState)([]);(0,n.useEffect)(()=>{m()},[]);let u=(0,r.hJ)(i.R,"About"),m=async()=>{let e=await (0,r.PL)(u),t=[];e.forEach(e=>{t.push(e)}),c(t)},[h,p]=(0,n.useState)(t),[x,f]=(0,n.useState)(t);(0,n.useEffect)(()=>{p(t),f(h),f(!0)},[t,h]);let[j,v]=(0,n.useState)("");document.querySelector(".email"),(0,n.useEffect)(()=>{},[j]);let C=(0,n.useRef)("");(0,n.useEffect)(()=>{v(e=>e)},[]),(0,n.useEffect)(()=>{console.log(j)}),(0,n.useEffect)(()=>{C.current=j},[j]),C.current;let N=e=>{f(e=>!e)},[y,b]=(0,n.useState)(!1),[S,g]=(0,n.useState)(""),{executeRecaptcha:k}=(0,o.xX)(),E=(0,n.useCallback)(e=>{if(!k){console.log("Execute recaptcha not yet available");return}k("enquiryFormSubmit").then(e=>{console.log(e,"response Google reCaptcha server"),q(e),b(!0)})},[k]),q=e=>{let t=document.querySelector(".name");document.querySelector(".email");let s=document.querySelector(".message"),a=document.querySelector(".".concat(l().sendbutton)),n=document.querySelector(".".concat(l().ContactForm));a.addEventListener("click",a=>{a.preventDefault(),fetch("/api/enquiry",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({name:t.value,email:C.current,message:s.value,gRecaptchaToken:e})}).then(e=>e.json()).then(e=>{console.log(e,"response from backend"),(null==e?void 0:e.status)==="success"?(g(null==e?void 0:e.message),n.reset(),console.log("message sent "),b(!1)):g(null==e?void 0:e.message)})})},[A,F]=(0,n.useState)(!1),[_,w]=(0,n.useState)(!1),D=e=>{F(e=>!e)},I=e=>{w(e=>!e)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{id:"myNav",className:x?l().overlayMENU:l().overlayMENUhide,children:[(0,a.jsx)("div",{className:l().closeButton,onClick:N}),(0,a.jsxs)("div",{className:l().overlayContent,children:[(0,a.jsx)("ul",{onClick:D,children:"About"}),(0,a.jsx)("ul",{onClick:I,children:"Contact"})]})]}),(0,a.jsx)("div",{className:A?l().AboutSection:l().AboutSectionHIDE,children:s&&s.map((e,t)=>(0,a.jsxs)("section",{onClick:D,className:l().AboutFlexContainer,children:[(0,a.jsx)(d(),{src:e.data().url,className:l().AboutPotrait,alt:"Stephen Weldon",width:1229,height:1229,unoptimized:!0}),(0,a.jsx)("p",{className:l().AboutBio,children:e.data().bio})]},e.id))}),(0,a.jsx)("div",{className:_?l().ContactSection:l().ContactSectionHIDE,children:(0,a.jsxs)("section",{className:l().ContactFlexContainer,children:[(0,a.jsxs)("form",{className:"".concat(l().ContactForm),children:[(0,a.jsx)("span",{onClick:I,className:l().ContactClose}),(0,a.jsxs)("div",{className:l().inputflex,children:[(0,a.jsx)("input",{className:"name",type:"text",name:"user_name",placeholder:"Name*",required:!0}),(0,a.jsx)("input",{className:"email",onChange(e){var t;return v(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value)},ref:C,type:"email",name:"user_email",placeholder:"E-mail*",required:!0}),(0,a.jsx)("textarea",{className:"message",name:"message",placeholder:"Questions",required:!0}),(0,a.jsx)("button",{type:"submit",value:"send",className:"".concat(l().sendbutton),onClick:q,children:"Send"}),(0,a.jsxs)("div",{className:l().CheckMarkVerify,children:[(0,a.jsx)("input",{type:"checkbox",onChange:()=>null,checked:y,className:l().checkbox,onClick:E,required:!0}),(0,a.jsx)("span",{className:l().verify,children:"Verify"})]})]})]}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),S&&(0,a.jsx)("p",{className:l().ContactInfo,children:S})]})})]})};t.default=m}}]);