"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[462],{9462:function(e,t,s){s.r(t);var a=s(5893),n=s(7294),c=s(8178),l=s.n(c),o=s(259);let r=e=>{let{menuToggle:t}=e,[s,c]=(0,n.useState)(t),[r,u]=(0,n.useState)(t);(0,n.useEffect)(()=>{c(t),u(s),u(!0)},[t,s]);let[i,m]=(0,n.useState)("");document.querySelector(".email"),(0,n.useEffect)(()=>{},[i]);let d=(0,n.useRef)("");(0,n.useEffect)(()=>{m(e=>e)},[]),(0,n.useEffect)(()=>{console.log(i)}),(0,n.useEffect)(()=>{d.current=i},[i]),d.current;let[p,h]=(0,n.useState)(!1),[f,x]=(0,n.useState)(""),{executeRecaptcha:v}=(0,o.xX)(),C=(0,n.useCallback)(e=>{if(e.preventDefault(),!v){console.log("Execute recaptcha not yet available");return}v("enquiryFormSubmit").then(e=>{console.log(e,"response Google reCaptcha server"),g(e),h(!0)})},[v]),g=e=>{let t=document.querySelector(".name");document.querySelector(".email");let s=document.querySelector(".message"),a=document.querySelector(".".concat(l().sendbutton)),n=document.querySelector(".".concat(l().ContactForm));a.addEventListener("click",a=>{a.preventDefault(),fetch("/api/enquiry",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({name:t.value,email:d.current,message:s.value,gRecaptchaToken:e})}).then(e=>e.json()).then(e=>{console.log(e,"response from backend"),(null==e?void 0:e.status)==="success"?(x(null==e?void 0:e.message),n.reset(),console.log("message sent "),h(!1)):x(null==e?void 0:e.message)})})},[j,y]=(0,n.useState)(r),S=e=>{y(e=>!e)};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:j?l().ContactSection:l().ContactSectionHIDE,children:(0,a.jsxs)("section",{className:l().ContactFlexContainer,children:[(0,a.jsxs)("form",{className:"".concat(l().ContactForm),children:[(0,a.jsx)("span",{onClick:S,className:l().ContactClose}),(0,a.jsxs)("div",{className:l().inputflex,children:[(0,a.jsx)("input",{className:"name",type:"text",name:"user_name",placeholder:"Name*",required:!0}),(0,a.jsx)("input",{className:"email",onChange(e){var t;return m(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value)},ref:d,type:"email",name:"user_email",placeholder:"E-mail*",required:!0}),(0,a.jsx)("textarea",{className:"message",name:"message",placeholder:"Questions",required:!0}),(0,a.jsx)("button",{type:"submit",value:"send",className:"".concat(l().sendbutton),onClick:g,children:"Send"}),(0,a.jsxs)("div",{className:l().CheckMarkVerify,children:[(0,a.jsx)("input",{type:"checkbox",onChange:()=>null,checked:p,className:l().checkbox,onClick:C,required:!0}),(0,a.jsx)("span",{className:l().verify,children:"Verify"})]})]})]}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),f&&(0,a.jsx)("p",{className:l().ContactInfo,children:f})]})})})};t.default=r}}]);